{"version":3,"file":"screenshot.js","sourceRoot":"","sources":["../../../src/js/integrations/screenshot.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,mBAAmB,EAAE,MAAM,eAAe,CAAC;AAEpD,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAC;AAEpC,uCAAuC;AACvC,MAAM,OAAO,UAAU;IAAvB;QAME;;WAEG;QACI,SAAI,GAAW,UAAU,CAAC,EAAE,CAAC;IA0BtC,CAAC;IAxBC;;OAEG;IACI,MAAM,CAAC,2BAA2B,CACvC,IAAe,EACf,EAAE,gBAAgB,EAAkC;QAEpD,IAAI,CAAC,gBAAgB,EAAE;YACrB,OAAO,mBAAmB,CAAC,IAAI,CAAC,CAAC;SAClC;QAED,OAAO,MAAM,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE;YACnD,IAAI,WAAW,KAAK,IAAI,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClD,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,WAAW,EAAE,GAAG,CAAC,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,WAAW,KAAI,EAAE,CAAC,CAAC,CAAC;aACnE;YACD,OAAO,IAAI,CAAC;QACd,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;OAEG;IACH,gEAAgE;IACzD,SAAS,KAAU,CAAC;;AAjC3B;;GAEG;AACW,aAAE,GAAW,YAAY,CAAC","sourcesContent":["import type { EventHint, Integration } from '@sentry/types';\nimport { resolvedSyncPromise } from '@sentry/utils';\n\nimport { NATIVE } from '../wrapper';\n\n/** Adds screenshots to error events */\nexport class Screenshot implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Screenshot';\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = Screenshot.id;\n\n  /**\n   * If enabled attaches a screenshot to the event hint.\n   */\n  public static attachScreenshotToEventHint(\n    hint: EventHint,\n    { attachScreenshot }: { attachScreenshot?: boolean },\n  ): PromiseLike<EventHint> {\n    if (!attachScreenshot) {\n      return resolvedSyncPromise(hint);\n    }\n\n    return NATIVE.captureScreenshot().then(screenshots => {\n      if (screenshots !== null && screenshots.length > 0) {\n        hint.attachments = [...screenshots, ...(hint?.attachments || [])];\n      }\n      return hint;\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  public setupOnce(): void {}\n}\n"]}